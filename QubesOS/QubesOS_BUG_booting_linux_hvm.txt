# labdb

How to fix bootup kernel error

https://www.qubes-os.org/doc/linux-hvm-tips/#how-to-fix-bootup-kernel-error

The HVM may pause on boot, showing a fixed cursor. After a while a series of warnings may be shown similar to this:

BUG: soft lockup - CPU#0 stuck for 23s! [systemd-udevd:244]
To fix this:

Kill the HVM.
Start the HVM
Press “e” at the grub screen to edit the boot parameters
Find the /vmlinuz line, and edit it to replace “rhgb” with “modprobe.blacklist=bochs_drm”
Press “Ctrl-x” to start the HVM


If this solves the problem then you will want to make the change permanent:

--Edit the file /etc/default/grub.
--Find the line which starts:
GRUB_CMDLINE_LINUX=

--Remove this text from that line:
rhgb

--Add this text to that line:
modprobe.blacklist=bochs_drm

--Run this command:
grub2-mkconfig --output=/boot/grub2/grub.cfg

The HVM should now start normally.
